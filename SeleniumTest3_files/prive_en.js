if(!Blockly.Language){Blockly.Language={};}
function blockly_metric_simple(){return[['Average Price','Average Price'],['Last Price','Last Price'],['Max','Max'],['Min','Min'],['Median','Median'],['ROCP','ROCP']];}
function blockly_metric_normal(){return[['Return','Return'],['Volatility','Volatility'],['Downside Volatility','Downside Volatility'],['Sharpe Ratio','Sharpe Ratio'],['Drawdown','Drawdown']];}
function blockly_metric_trend(){return[['SMA','SMA'],['WMA','WMA'],['EMA','EMA']];}
function exchangeList(){return[['ARCA','ARCA'],['SEHK','SEHK'],['LSE','LSE']];}
function blockly_metric_momentum(){return[['RSI','RSI'],['CMO','CMO']];}
function blockly_timeframe(){return[['last 1 week','last 1 week'],['last 2 weeks','last 2 weeks'],['last 3 weeks','last 2 weeks'],['last 1 month','last 1 month'],['last 2 months','last 2 months'],['last 3 months','last 3 months'],['last 4 months','last 4 months'],['last 5 months','last 5 months'],['last 6 months','last 6 months'],['last 7 months','last 7 months'],['last 8 months','last 8 months'],['last 9 months','last 9 months'],['last 10 months','last 10 months'],['last 11 months','last 11 months'],['last 12 months','last 12 months'],['last 1 year','last 1 year'],['last 2 years','last 2 years'],['last 3 years','last 3 years'],['last 4 years','last 4 years'],['last 5 years','last 5 years']];}
function blockly_timeframe_short(){return[['last 1 week','last 1 week'],['last 2 weeks','last 2 weeks'],['last 3 weeks','last 2 weeks'],['last 1 month','last 1 month'],['last 2 months','last 2 months'],['last 3 months','last 3 months'],['last 4 months','last 4 months'],['last 5 months','last 5 months'],['last 6 months','last 6 months'],['last 7 months','last 7 months'],['last 8 months','last 8 months'],['last 9 months','last 9 months'],['last 10 months','last 10 months'],['last 11 months','last 11 months'],['last 12 months','last 12 months']];}
function blockly_timeframe_year(){return[['last 1 year','last 1 year'],['last 2 years','last 2 years'],['last 3 years','last 3 years'],['last 4 years','last 4 years'],['last 5 years','last 5 years']];}
Blockly.Language.metric_momentum={category:'Statistics',helpUrl:'',init:function(){var dropdownTimeframe=new Blockly.FieldDropdown(blockly_timeframe_year);var dropdownMetric=new Blockly.FieldDropdown(blockly_metric_momentum);this.setColour(060);this.setOutput(true,Number);this.appendValueInput("SECURITY").appendTitle('Momentum Metric').appendTitle("Type").appendTitle(dropdownMetric,'METRICTYPE').appendTitle("Timeframe").appendTitle(dropdownTimeframe,'TIMEFRAME').appendTitle('Security');this.setInputsInline(false);this.setTooltip('');}};Blockly.Language.metric_trend={category:'Statistics',helpUrl:'',init:function(){var dropdownTimeframe=new Blockly.FieldDropdown(blockly_timeframe);var dropdownMetric=new Blockly.FieldDropdown(blockly_metric_trend);this.setColour(060);this.setOutput(true,Number);this.appendValueInput("SECURITY").appendTitle('Trend Metric').appendTitle("Type").appendTitle(dropdownMetric,'METRICTYPE').appendTitle("Timeframe").appendTitle(dropdownTimeframe,'TIMEFRAME').appendTitle('Security');this.setInputsInline(false);this.setTooltip('');}};Blockly.Language.metric_simple={category:'Statistics',helpUrl:'',init:function(){var dropdownTimeframe=new Blockly.FieldDropdown(blockly_timeframe_short);var dropdownMetric=new Blockly.FieldDropdown(blockly_metric_simple);this.setColour(0);this.setOutput(true,Number);this.appendValueInput("SECURITY").appendTitle('Simple Metric').appendTitle("Type").appendTitle(dropdownMetric,'METRICTYPE').appendTitle("Timeframe").appendTitle(dropdownTimeframe,'TIMEFRAME').appendTitle('Security');this.setInputsInline(false);this.setTooltip('');}};Blockly.Language.metric={category:'Statistics',helpUrl:'',init:function(){var dropdownTimeframe=new Blockly.FieldDropdown(blockly_timeframe_year);var dropdownMetric=new Blockly.FieldDropdown(blockly_metric_normal);this.setColour(020);this.setOutput(true,Number);this.appendValueInput("SECURITY").appendTitle('Metric').appendTitle("Type").appendTitle(dropdownMetric,'METRICTYPE').appendTitle("Timeframe").appendTitle(dropdownTimeframe,'TIMEFRAME').appendTitle('Security');this.setInputsInline(false);this.setTooltip('');}};Blockly.Language.allocation_weight_assign={category:'Allocation',helpUrl:'',init:function(){this.setColour(280);this.setOutput(false);this.setPreviousStatement(true);this.setNextStatement(true);this.appendValueInput("SECURITY").appendTitle('Assign Weight').appendTitle('Security');this.appendValueInput("WEIGHT").setCheck(Number).appendTitle("Weight");this.setInputsInline(true);this.setTooltip('');}};Blockly.Language.allocation_rebalance={category:'Allocation',helpUrl:'',init:function(){this.setColour(280);this.setOutput(false);this.setNextStatement(false);this.setPreviousStatement(true);this.appendDummyInput().appendTitle('Rebalance');this.setInputsInline(false);this.setTooltip('Creates a list consisting of the given value\nrepeated the specified number of times.');}};Blockly.Language.security={category:'Security',helpUrl:'',init:function(){var dropdownExchange=new Blockly.FieldDropdown(exchangeList);this.setColour(280);this.setOutput(true,"TICKER_TYPE");this.setPreviousStatement(false);this.setNextStatement(false);this.appendValueInput('SYMBOL').setCheck(String).appendTitle("Security").appendTitle("Exchange").appendTitle(dropdownExchange,'EXCHANGE').appendTitle("Symbol");this.setInputsInline(false);this.setTooltip('');}};Blockly.Language.statistics_rank_and_weight={category:'Allocation',helpUrl:'',init:function(){this.setColour(280);this.setOutput(true,"Weight");this.setPreviousStatement(false);this.setNextStatement(false);this.appendValueInput('STATISTICS').appendTitle('Rank & Assign Weights').appendTitle('Statistics');this.appendValueInput('WEIGHTS').setAlign(Blockly.ALIGN_RIGHT).appendTitle('Weights');this.setInputsInline(false);this.setTooltip('');}};