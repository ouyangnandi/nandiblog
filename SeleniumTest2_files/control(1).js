"use strict";goog.provide("Blockly.JavaScript.control");goog.require("Blockly.JavaScript");Blockly.JavaScript.controls_if=function(){var d=0;var c=Blockly.JavaScript.valueToCode(this,"IF"+d,Blockly.JavaScript.ORDER_NONE)||"false";var a=Blockly.JavaScript.statementToCode(this,"DO"+d);var b="if ("+c+") {\n"+a+"}";for(d=1;d<=this.elseifCount_;d++){c=Blockly.JavaScript.valueToCode(this,"IF"+d,Blockly.JavaScript.ORDER_NONE)||"false";a=Blockly.JavaScript.statementToCode(this,"DO"+d);b+=" else if ("+c+") {\n"+a+"}"}if(this.elseCount_){a=Blockly.JavaScript.statementToCode(this,"ELSE");b+=" else {\n"+a+"}"}return b+"\n"};Blockly.JavaScript.controls_repeat=function(){var a=Number(this.getTitleValue("TIMES"));var b=Blockly.JavaScript.statementToCode(this,"DO");if(Blockly.JavaScript.INFINITE_LOOP_TRAP){b=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+b}var d=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE);var c="for (var "+d+" = 0; "+d+" < "+a+"; "+d+"++) {\n"+b+"}\n";return c};Blockly.JavaScript.controls_whileUntil=function(){var c=this.getTitleValue("MODE")=="UNTIL";var b=Blockly.JavaScript.valueToCode(this,"BOOL",c?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false";var a=Blockly.JavaScript.statementToCode(this,"DO");if(Blockly.JavaScript.INFINITE_LOOP_TRAP){a=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+a}if(c){b="!"+b}return"while ("+b+") {\n"+a+"}\n"};Blockly.JavaScript.controls_for=function(){var b=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE);var h=Blockly.JavaScript.valueToCode(this,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";var g=Blockly.JavaScript.valueToCode(this,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";var c=Blockly.JavaScript.statementToCode(this,"DO");if(Blockly.JavaScript.INFINITE_LOOP_TRAP){c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+c}var d;if(h.match(/^-?\d+(\.\d+)?$/)&&g.match(/^-?\d+(\.\d+)?$/)){var a=parseFloat(h)<=parseFloat(g);d="for ("+b+" = "+h+"; "+b+(a?" <= ":" >= ")+g+"; "+b+(a?"++":"--")+") {\n"+c+"}\n"}else{d="";var f=h;if(!h.match(/^\w+$/)&&!h.match(/^-?\d+(\.\d+)?$/)){var f=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE);d+="var "+f+" = "+h+";\n"}var e=g;if(!g.match(/^\w+$/)&&!g.match(/^-?\d+(\.\d+)?$/)){var e=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE);d+="var "+e+" = "+g+";\n"}d+="for ("+b+" = "+f+";\n    ("+f+" <= "+e+") ? "+b+" <= "+e+" : "+b+" >= "+e+";\n    "+b+" += ("+f+" <= "+e+") ? 1 : -1) {\n"+c+"}\n"}return d};Blockly.JavaScript.controls_forEach=function(){var a=Blockly.JavaScript.variableDB_.getName(this.getTitleValue("VAR"),Blockly.Variables.NAME_TYPE);var f=Blockly.JavaScript.valueToCode(this,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]";var d=Blockly.JavaScript.statementToCode(this,"DO");if(Blockly.JavaScript.INFINITE_LOOP_TRAP){d=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+d}var e;var b=Blockly.JavaScript.variableDB_.getDistinctName(a+"_index",Blockly.Variables.NAME_TYPE);if(f.match(/^\w+$/)){d="  "+a+" = "+f+"["+b+"];\n"+d;e="for (var "+b+" in  "+f+") {\n"+d+"}\n"}else{var c=Blockly.JavaScript.variableDB_.getDistinctName(a+"_list",Blockly.Variables.NAME_TYPE);d="  "+a+" = "+c+"["+b+"];\n"+d;e="var "+c+" = "+f+";\nfor (var "+b+" in "+c+") {\n"+d+"}\n"}return e};Blockly.JavaScript.controls_flow_statements=function(){switch(this.getTitleValue("FLOW")){case"BREAK":return"break;\n";case"CONTINUE":return"continue;\n"}throw"Unknown flow statement."};