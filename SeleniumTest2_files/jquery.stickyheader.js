function makeTableSticky(tableID){var mainTable=$("#"+ tableID);mainTable.prepend('<thead></thead>')
mainTable.find('thead').append(mainTable.find("tr:eq(0)"));var $w=$(window),$t=mainTable,$thead=$t.find('thead').clone(),$col=$t.find('thead, tbody').clone();if(mainTable.hasClass("sticky-enabled")){return;}
$t.addClass('sticky-enabled').css({margin:0,width:'100%'}).wrap('<div class="sticky-wrap" />');if($t.hasClass('overflow-y'))
$t.removeClass('overflow-y').parent().addClass('overflow-y');$t.after('<table class="sticky-thead" cellspacing="0" cellpadding="0" />');if($t.find('tbody th').length>0){$t.after('<table class="sticky-col" /><table class="sticky-intersect" />');}
var $stickyHead=mainTable.siblings('.sticky-thead'),$stickyCol=mainTable.siblings('.sticky-col'),$stickyInsct=mainTable.siblings('.sticky-intersect'),$stickyWrap=mainTable.parent('.sticky-wrap');$stickyHead.append($thead);$stickyCol.append($col).find('thead th:gt(0)').remove().end().find('tbody td').remove();$stickyInsct.html('<thead><tr><th>'+$t.find('thead th:first-child').html()+'</th></tr></thead>');var setWidths=function(){$t.find('thead th').each(function(i){$stickyHead.find('th').eq(i).width(mainTable.width());}).end().find('tr').each(function(i){$stickyCol.find('tr').eq(i).height(mainTable.height());});$stickyHead.width($t.width());$stickyCol.find('th').add($stickyInsct.find('th')).width($t.find('thead th').width())},repositionStickyHead=function(){var allowance=calcAllowance();if($t.height()>$stickyWrap.height()){if($stickyWrap.scrollTop()>0){$stickyHead.add($stickyInsct).css({opacity:1,top:$stickyWrap.scrollTop(),zIndex:999});}else{$stickyHead.add($stickyInsct).css({opacity:0,top:0,zIndex:-1});}}else{if($w.scrollTop()>$t.offset().top&&$w.scrollTop()<$t.offset().top+ $t.outerHeight()- allowance){$stickyHead.add($stickyInsct).css({opacity:1,top:$w.scrollTop()- $t.offset().top,zIndex:999});}else{$stickyHead.add($stickyInsct).css({opacity:0,top:0,zIndex:-1});}}},repositionStickyCol=function(){if($stickyWrap.scrollLeft()>0){$stickyCol.add($stickyInsct).css({opacity:1,left:$stickyWrap.scrollLeft()});}else{$stickyCol.css({opacity:0}).add($stickyInsct).css({left:0});}},calcAllowance=function(){var a=0;a+=$t.find("tr").last().height();a+=$stickyHead.height();return a;};var pageReady=function(){setWidths();}
setTimeout(pageReady,1000);$stickyHead.add($stickyInsct).css({opacity:0,top:0,zIndex:-1});$t.parent('.sticky-wrap').scroll($.throttle(250,function(){repositionStickyHead();repositionStickyCol();}));$w.load(setWidths).resize($.debounce(250,function(){setWidths();repositionStickyHead();repositionStickyCol();})).scroll($.throttle(250,repositionStickyHead));}
function clearStickyPanel(panelID){var tablePanel=$("#"+panelID);if(tablePanel!=null)
tablePanel.empty();}